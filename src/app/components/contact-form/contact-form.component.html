<div class="contact-form" id="contact-form">
  <h2>Say Hi!</h2>

  <div class="contact-form-area">
    <h4>Have a challenge for me ?</h4>

    <span>Lets discuss your ideas and make it happen.</span>

    <form (ngSubmit)="onSubmit()" [formGroup]="contactForm">
      <div class="input-container">
        <input
          required=""
          type="text"
          maxlength="50"
          name="name"
          formControlName="name"
        />
        <label>Your name</label>
        <div
          [ngClass]="{
            'error-container':
              (contactForm.get('name')?.invalid &&
                contactForm.get('name')?.dirty) ||
              contactForm.get('name')?.touched,
            'no-error':
              (contactForm.get('name')?.valid &&
                contactForm.get('name')?.dirty) ||
              contactForm.get('name')?.touched
          }"
        >
          <span
            *ngIf="contactForm.get('name')?.errors?.['required'] &&
              (isSubmitted || contactForm.get('name')?.dirty ||
            contactForm.get('name')?.touched)"
            class="error"
            >Please enter your name.</span
          >
          <span
            *ngIf="contactForm.get('name')?.errors?.['tooShort'] &&
            (isSubmitted || contactForm.get('name')?.touched)"
            class="error"
            >Your name must be at least 3 characters long.</span
          >
        </div>
        <img
          [ngClass]="{
            visible:
              contactForm.get('name')?.errors === null &&
              (contactForm.get('name')?.dirty ||
                contactForm.get('name')?.touched)
          }"
          class="hidden"
          src="/assets/img/green-check.png"
          alt=""
        />
        <img
          [ngClass]="{
            visible:
              contactForm.get('name')?.errors &&
              (isSubmitted || contactForm.get('name')?.touched)
          }"
          class="hidden"
          src="/assets/img/red-warning.png"
          alt=""
        />
      </div>
      <div class="input-container">
        <input
          required=""
          type="text"
          maxlength="50"
          name="email"
          formControlName="email"
          [class.invalid]="
            (contactForm.get('email')?.invalid &&
              contactForm.get('email')?.dirty) ||
            contactForm.get('email')?.touched
          "
        />
        <label>Your email</label>
        <div
          [class.error-container]="
            (contactForm.get('email')?.invalid &&
              contactForm.get('email')?.dirty) ||
            contactForm.get('email')?.touched
          "
        >
          <span
            *ngIf="contactForm.get('email')?.errors?.['required'] &&
              (isSubmitted || contactForm.get('email')?.dirty ||
            contactForm.get('email')?.touched)"
            class="error"
            >Please enter your email address.</span
          >
          <span
            *ngIf="contactForm.get('email')?.errors?.['email'] &&
            (isSubmitted || contactForm.get('email')?.touched)"
            class="error"
            >Please enter a valid email address.</span
          >
        </div>
        <img
          [ngClass]="{
            visible:
              contactForm.get('email')?.errors === null &&
              (contactForm.get('email')?.dirty ||
                contactForm.get('email')?.touched)
          }"
          class="hidden"
          src="/assets/img/green-check.png"
          alt=""
        />
        <img
          [ngClass]="{
            visible:
              contactForm.get('email')?.errors &&
              (isSubmitted || contactForm.get('email')?.touched)
          }"
          class="hidden"
          src="/assets/img/red-warning.png"
          alt=""
        />
      </div>
      <div class="input-container">
        <div class="textarea-container" id="message">
          <textarea
            [(ngModel)]="textareaContent"
            (ngModelChange)="textareaChange()"
            required=""
            name="message"
            maxlength="500"
            formControlName="message"
            [class.invalid]="
              (contactForm.get('message')?.invalid &&
                contactForm.get('message')?.dirty) ||
              contactForm.get('message')?.touched
            "
          ></textarea>
          <label>Your message</label>
        </div>

        <div class="error-container">
          <span
            *ngIf="contactForm.get('message')?.errors?.['required'] &&
              (isSubmitted || contactForm.get('message')?.dirty ||
            contactForm.get('message')?.touched)"
            class="error"
            >Please enter your message.</span
          >
          <span
            *ngIf="contactForm.get('message')?.errors?.['tooShort'] &&
            (isSubmitted || contactForm.get('message')?.touched)"
            class="error"
            >Your message must be at least 20 characters long.</span
          >
        </div>
        <img
          [ngClass]="{
            visible:
              contactForm.get('message')?.errors === null &&
              (contactForm.get('message')?.dirty ||
                contactForm.get('message')?.touched)
          }"
          class="hidden"
          src="/assets/img/green-check.png"
          alt=""
        />
        <img
          [ngClass]="{
            visible:
              contactForm.get('message')?.errors &&
              (isSubmitted || contactForm.get('message')?.touched)
          }"
          class="hidden"
          src="/assets/img/red-warning.png"
          alt=""
        />
      </div>
      <div class="flex items-center policy-agreement">
        <div class="checkbox-area">
          <input
            class="checkbox"
            type="image"
            formControlName="privacyPolicyAgreement"
            required=""
            name="checkbox"
            src="/assets/img/checkbox_empty.png"
          />
        </div>

        <span class="privacy-policy"
          >I've read the <a href=""> privacy policy </a> and agree to the
          processing of my data as outlined.</span
        >
        <div class="error-container"></div>
      </div>
      <div class="submit-btn-section">
        <button type="submit">Send message</button>
      </div>
    </form>
  </div>
</div>
